<apex:page standardController="Product_Configuration__c" extensions="ControllerProductConfiguration" id="pc">
    <apex:form id="frm" >
        
        <apex:pageBlock title="License Options" mode="edit" id="block">
            <apex:pageBlockButtons >
                <apex:commandButton action="{!saveLicenseOption}" value="Save"/>
                <apex:commandButton action="{!viewConfiguration}" value="Back"/>

            </apex:pageBlockButtons>
			<c:ProductConfigurationHeader type="License Options" prodAction="{!prodAction}" prod="{!Product_Configuration__c}"/>
            
             
			<apex:dataTable value="{!allLicenseOptions}" var="license" id="theTable"
				styleClass="list" width="100%" >
				<apex:column >
					<apex:facet name="header"><input type="checkbox" id="selectAll" name="selectAll" onClick="checkAll(this)"/> Select</apex:facet>
					<input id="CHBX{!license.id}" name="CHBX{!license.id}"type="checkbox">
				</apex:column>
				<apex:column >
					<apex:facet name="header">Name</apex:facet>
					<apex:outputField value="{!license.name}" />
				</apex:column>
				<apex:column >
					<apex:facet name="header">Description</apex:facet>
					<apex:outputField value="{!license.Description__c}" />
				</apex:column>
				<apex:column >
					<apex:facet name="header">License Option ID</apex:facet>
					<apex:outputField value="{!license.License_Option_ID__c}" />
				</apex:column>
			</apex:dataTable>
			
		</apex:pageBlock>
        
       
    </apex:form>
    <script>
    	function checkAll(chkSelectAll){
    		selectAll(chkSelectAll.checked);
    	}
    	function selectAll(flag){
    		checkBoxes = document.getElementById("pc:frm:block:theTable").getElementsByTagName("input");
    		for(var i = 0; i < checkBoxes.length; i++){
    			if(checkBoxes[i].name.startsWith("CHBX")){
    				checkBoxes[i].checked = flag;
    			}
    		}
    	}
    	String.prototype.startsWith = function(str)
		{return (this.match("^"+str)==str)}
    </script>
    </apex:page>